---
import { type VariantProps } from "class-variance-authority";
import type { HTMLAttributes } from "astro/types";
import { cn } from "@shared/lib/utils";
import { buttonVariants } from "../lib/buttonVariants";

interface Props
  extends HTMLAttributes<"button">,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
}

const {
  class: className,
  variant = "default",
  size = "default",
  asChild = false,
  ...props
} = Astro.props;
---

{
  asChild ? (
    <slot />
  ) : (
    <button class={cn(buttonVariants({ variant, size, className }))} {...props}>
      <slot />
    </button>
  )
}
